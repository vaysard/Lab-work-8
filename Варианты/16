# --- 1. Определение узла бинарного дерева ---
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right

# --- 2. Функции обхода бинарного дерева ---

# Обход Preorder (Корень -> Лево -> Право)
def preorder_traversal(root):
    """Возвращает список значений узлов в порядке Preorder."""
    if not root: # Базовый случай: если узел пуст, возвращаем пустой список.
        return []
    
    # Рекурсивный шаг:
    # 1. Значение текущего корня.
    # 2. Результат обхода левого поддерева.
    # 3. Результат обхода правого поддерева.
    return [root.val] + \
           preorder_traversal(root.left) + \
           preorder_traversal(root.right)

# Обход Inorder (Лево -> Корень -> Право)
def inorder_traversal(root):
    """Возвращает список значений узлов в порядке Inorder."""
    if not root: # Базовый случай
        return []
    
    # Рекурсивный шаг:
    # 1. Результат обхода левого поддерева.
    # 2. Значение текущего корня.
    # 3. Результат обхода правого поддерева.
    return inorder_traversal(root.left) + \
           [root.val] + \
           inorder_traversal(root.right)

# Обход Postorder (Лево -> Право -> Корень)
def postorder_traversal(root):
    """Возвращает список значений узлов в порядке Postorder."""
    if not root: # Базовый случай
        return []
    
    # Рекурсивный шаг:
    # 1. Результат обхода левого поддерева.
    # 2. Результат обхода правого поддерева.
    # 3. Значение текущего корня.
    return postorder_traversal(root.left) + \
           postorder_traversal(root.right) + \
           [root.val]

# --- 3. Создание примера бинарного дерева ---
#        1
#       / \
#      2   3
#     / \
#    4   5
root = TreeNode(1)
root.left = TreeNode(2)
root.right = TreeNode(3)
root.left.left = TreeNode(4)
root.left.right = TreeNode(5)

# --- 4. Тестирование обходов ---
print("Пример дерева:")
print("       1")
print("      / \\")
print("     2   3")
print("    / \\")
print("   4   5")
print("-" * 20)

print(f"Preorder (Корень-Лево-Право): {preorder_traversal(root)}")
# Ожидаемый результат: [1, 2, 4, 5, 3]

print(f"Inorder (Лево-Корень-Право): {inorder_traversal(root)}")
# Ожидаемый результат: [4, 2, 5, 1, 3]

print(f"Postorder (Лево-Право-Корень): {postorder_traversal(root)}")
# Ожидаемый результат: [4, 5, 2, 3, 1]

# --- Тест для пустого дерева ---
print("\n--- Тест для пустого дерева ---")
empty_root = None
print(f"Preorder (пустое дерево): {preorder_traversal(empty_root)}")
print(f"Inorder (пустое дерево): {inorder_traversal(empty_root)}")
print(f"Postorder (пустое дерево): {postorder_traversal(empty_root)}")
